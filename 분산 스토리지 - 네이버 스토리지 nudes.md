1. 개요
```
- s3는 용량을 추가하거나 성능을 높이는 작업이 필요없고 알아서한다.
- 예를들어 모니터링을 통해 일정 용량을 넘어서면 알아서 확장하고 트래픽이 몰리면 여러곳으로 분산하고.
- 이게 어떻게 알아서 동작하는지 학습해볼 필요가 있었다.
```

2. 분산 스토리지란
- 개념
```
분산 스토리지는 단일 스토리지 디바이스에 저장되지 않고 여러 물리적 스토리지 노드에 분산된 형태를 가진 스토리지 시스템.

분산 스토리지 시스템에서는 데이터가 자동으로 복제되어 여러 노드에 저장되므로 이중화 기능을 제공한다.
이를통해 고가용성, 안정성.
```
- 장점
```
1. 확장성 : 
- 분산 스토리지 시스템은 필요에 따라 더 많은 스토리지 노드를 인프라에 추가할 수 있다.
- 아마 이러한 특성으로 일정 용량을 넘어서면 새로운 노드로 확장하고 데이터를 분산시키는것이라고 생각한다.

2. 고가용성 : 
- 개인적으로 고가용성은 무중단의 의미가 강하다고 생각한다.
- 시스템을 n개로 구성하여 1개가 망가져도 다른 시스템으로 대체하여 사용에 문제를 느끼지 않도록한다.
- 분산 스토리지 시스템은 여러 노드에 걸쳐 데이터를 저장하므로 운영 중 장애에도 대처할 수 있다.
- 즉 같은 데이터가 여러곳에 저장된다.

3. 성능 :
- 여러개로 분리되어있는 노드로 트래픽을 분산하는 경우 많은 요청에 대응할 수 있다.
```

- 단점
```
1. 복잡성 :
- 시스템이 여러 노드로 구성된만큼 관리에 있어서 복잡도가 증가할 수 있다.

2. 비용 증가
```

### 기존 제약사항과 목표
```
사용자가 직접 부하 분산 및 용량 관리를 해줘야했다.
기존 시스템의 통신 방식이 제각각.

따라서 저장소에서 이를 "알아서" 해줄 수 있도록 개선이 필요했다고한다.
- 제약 없는 저장 공간
- rest api 기반 업로드, 다운로드, 조회, 삭제 ..
```
- 오브젝트 스토리지 구조
- <img width="975" alt="스크린샷 2023-02-10 오후 2 47 37" src="https://user-images.githubusercontent.com/62214428/218011196-bd05fa6a-ea99-409f-ab56-4e89081f4941.png">
```
핵심은 메타데이터 layer
- 디렉토리 및 파일의 메타데이터 저장 및 관리를 확장성 있게 설계하는게 핵심
- 부하 분산 및 용량 관리에서 해방
- 각 노드마다 메타데이터 레이어를 갖는데 디스크에서 직접 하나씩 다 찾는것은 엄청 시간이 걸릴것.
- 추가 정보(메타데이터)를 갖음으로써 빠른 접근을 가능하게 해준다. 물론 저장 속도 측면에선 저장할 양이 늘어나니 느려질 수 있다.

```
- https://tech.kakao.com/2017/01/12/kage/
```
카카오 대규모 분산 스토리지 kage에서도 말하길 실제 데이터와 메타 데이터를 분리하여 저장하고
대상을 저장하고 그 위치등에 대한 정보를 메타데이터로 한 번 더 기록함으로써 더욱 효율적인 관리(예를들어 디스크를 다 뒤져서 데이터를 찾지 않고 메타데이터로 바로 접근)
s3 또한 이런 방식의 대표적인 예시
```

